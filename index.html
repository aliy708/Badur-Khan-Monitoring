function populateDashboard(d) {
  // 1. Isi Data Dasar
  document.getElementById('display-nama').innerText = d.nama;
  document.getElementById('display-niath').innerText = `NIATH: ${d.niath}`;
  document.getElementById('stat-hadir').innerText = d.kehadiran || 0;
  document.getElementById('stat-sakit').innerText = d.sakit || 0;
  document.getElementById('stat-alpa').innerText = d.alpa || 0;
  
  // Proteksi Iuran (Agar tidak error jika kosong)
  let statusIuran = d.iuran ? d.iuran.toString().replace(/\"/g, "") : "Lunas";
  document.getElementById('display-iuran').innerText = statusIuran;
  
  // 2. Isi Biodata
  document.getElementById('bio-nama').innerText = d.nama;
  document.getElementById('bio-umur').innerText = `${d.umur} Tahun`;
  document.getElementById('bio-kelas').innerText = d.kelas; 
  document.getElementById('bio-tingkat').innerText = d.tingkat;
  document.getElementById('bio-alamat').innerText = d.alamat;
  
  // 3. Isi Sertifikat
  document.getElementById('cert-nama').innerText = d.nama;
  document.getElementById('cert-tingkat').innerText = d.tingkat;

  // 4. BAGIAN FOTO & VIDEO (Dokumentasi Dinamis)
  const dynamicDocs = document.getElementById('dynamic-docs');
  if (dynamicDocs) {
    if (d.foto_lat || d.video_lat) {
      dynamicDocs.innerHTML = `
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in">
          ${d.foto_lat ? `
            <div class="space-y-2">
              <p class="text-[10px] font-bold text-emerald-600 uppercase tracking-widest text-center">Foto Kegiatan Terbaru</p>
              <div class="rounded-2xl overflow-hidden shadow-xl border-4 border-white">
                <img src="${d.foto_lat}" class="w-full h-auto object-cover aspect-video" onerror="this.src='https://placehold.co/600x400?text=Foto+Gagal+Dimuat'">
              </div>
            </div>` : ''}
            
          ${d.video_lat ? `
            <div class="space-y-2">
              <p class="text-[10px] font-bold text-amber-600 uppercase tracking-widest text-center">Video Latihan</p>
              <div class="rounded-2xl overflow-hidden shadow-xl border-4 border-white bg-black">
                <video controls class="w-full aspect-video">
                  <source src="${d.video_lat}" type="video/mp4">
                  Browser tidak mendukung video.
                </video>
              </div>
            </div>` : ''}
        </div>
      `;
    } else {
      dynamicDocs.innerHTML = `
        <div class="text-center py-10 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200">
          <p class="text-slate-400 text-xs italic font-medium">Belum ada dokumentasi khusus untuk santri ini.</p>
        </div>`;
    }
  }
}
